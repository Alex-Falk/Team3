
/*****************************************************************************
:;-"""-::::::::::::::::::::::::::::::::::::::::::::::::.::..:... ..  .
(      .)::::::::::::::::::::::::::::::::::::::::::::.::..:... ..  .
        )-:::::::::::::::::::::::::::::::::::::::::::::::.::..:... .. .
      -'   )-"-:::::::::::::::::::::::::::::::::::::::.::..:... ..  .
 ___________)______________          _____
|                         \          \ U \__      _______
|        Yesheng Su        \__________\   \/_______\___\_____________
|        14/02/2018        /          < /_/   ..................... ^`-._
|_________________________/            `-----------,----,--------------'
                      )                          _/____/_
-.                .    ):::::::::::::::::::::::::::::.::..:... ..  .
  )--.__..--"-.__,'---':::::::::::::::::::::::::::::::::.::..:... ..  .
-':::::::::::::::::::::::::::::::::::::::::::::.::..:... ..  .
:::::::::::::::::::::::::::::::::::::::::::::::::.::..:... ..  .
															
*****************************************************************************/
# version 330 core

uniform samplerCube cubeTex;
uniform float brightness;

in Vertex {
	vec3 normal;
} IN; 

layout(location = 0) out vec4 OutFrag;
layout(location = 1) out vec4 BrightColor;

void main()
{
	OutFrag = texture(cubeTex, normalize(IN.normal))*brightness;
	float brightness1 = dot(OutFrag.rgb, vec3(0.2126, 0.7152, 0.0722));
	if (brightness1 > 0.35) {
		BrightColor = OutFrag;
	}
}


