//'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''%%'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''%&&&''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''&@@@&%'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''&@@@@@&''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''&@@@@@@&''''''''''''''''''''''''''#&@@@@@@@@@@&''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''&@@@@@@@@@&'''''''''''''''''''#@@@@@@@@@@@'''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''''''''''''''''''%&@&@%@@@@@@@@@@@#'#&@@@@@@@@@@@@&@@@@@@@@@&''''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''''''''''''''#&&&&@@@@@@@@@@@@@@@@@@@@@@&@@@@@@@@@@@@@@@@@@@@@@@'''''''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''''''''''''''%%''''%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@''''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''''''''''''''''''%@@@&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#'''''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''''''''''''''%@@@@&#%&@@@@@@@@@@@@@@&&@@@@&@@@@@@@@@@@@@@@@@@@@@@@@@''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''''''''%&&@@@@@&%%%%&@@@@@@@@@@&%@@@@@%''''#&@@@@@@@@@@@@@@@@&''''#&@@@''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''#&@&@@@@@@@@@@@@@@@@@@@@@@@@@&'''&@&&%'''''''#&@@@@@@@@@@@@@@@@@''''''@@''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''&@@@@@@@@@@@@@@@@@@@@@@@@@&&%#''''#@&&'''''''''&@@@@@@@@@@@@@@@@@@@&''''*''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''%@&@@@@'''''''#####%%#''''''''''#%''''''''''&@@@@@@@@@@@@@@@@@@@@@@''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''#&@@@@@@@@@@@@@@@&@@@@@@@@&'''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''''''''#&@&&%%#'''''''''''''''''''''''''#%&@@@@@@@@@@@@@@@&&&'''#@@@@@@'''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''''''''''#@@@@@@@@@@&&&&&&&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@&''''''@@@@@'''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''''''''''''''%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&%''''''''%@@@@'''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''''''''''''%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&'''''''''''@@@''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''''''''%&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%'''''''''''''@@'''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''''#&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@''''''''''''''''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''%&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&%%#&@@@@@@@&'''''''''''''''''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''&@@@@@@@@@@@@@@@@@@@@@@@@@@@&%#'''''''%@@@@@@'''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''%@@@@@@@@@@@@@@@@@@@@@@@@&%'''''''''''%&@@@@@'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''#&@@@@@@@@@@@@@@@@@@%@@%'''''''''''#&@@@@&%'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''%@@@@@@@@@@@@@@@@@@#''%@%''''''''''#&@@@'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''%@@@@@@@@@@@@@@@@@@#'''#'''''''''%&@&&%#''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''%@@@@@@@@@@@@@@@@@@#'''''''''''%&&%#'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''%@@#&@@@@@@@@@@@@@@&'''''''''''''''''''''''''''''''''#&@&&%#''''''''''''''''''''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''#&&'%@@@@@@@@@@@@@@&''''''''''''''''''''''''''''''''''''''#&@@@@@&#''''''''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''#@@@@@@@@@@@&@@@&'''''''''''''''''''''''''''''''''''''''''#@@@@@@@@@@&%'''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''&@@@@@@@@@@#'#&@@#''''''''''''''''''''''''''''''''''''''''''%@@@@@@@@@@@@%#'''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''&@@@@@@@@@@'''''##''''''''''''''''''''''''#&@&%''''#%&@@@@@@&%@@@@@@@@@@@@@@%'''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''&@@@@@@@@@@''''''''''''''''''''''''''''''#@@@@%''''#%&@@@@@@@@@@@@@@@@@@@@@@#'''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''&@@@@@@@@@@@@@''''''''#%&&@@&'''''''''''#&@@@@@&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@)''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''%@@@@@@@@@@@@@@@@@@@@@@@@@@'''''''''''%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%&@@@@@@@&&''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''&@@@@@@@@@@@@@@@@@@@@@&%#''''''##%&&@@@@@@@@@@@@@@@@@@@@&%%%###'''#%&&@%''%@@@@@#''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%''''''''''''''''#&%''#@@@@%''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&@''''''''''''''#'''&@@@@%'''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&%#''''''''''''''''''''&@@@%''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&%''%@@@@@@@''''''#&%''''''''''''''&@@@%''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''#@@@@@@%#&@@@@@@@@@@@@@@@@@@@@@@@@@@@@'''''''#&@@@@@&@@@@@@&'''''''''''''''&@@@''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''&@@@@&'''''''%&@@@@@@@@@@@@@&@@@@@@@@@@#''''''''''''#####''''''''''''''''#@@@&'''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''@@@@@#'''''''''''''##%%&&@@@&%#%@@@@@@@@&'''''''''''''''''''''''''''''''#@@@%''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''%@@@&''''''''''''''''''''''''''''''%@@@@@@&'''''''''''''''''''''''''''''&@@@''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''@@@&'''''''''''''''''''''''''''''''''&@@@@@&'''''''''''''''''''''''''''&@&%'''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''&@@%'''''''''''''''''''''''''''''''''''%@@@@@&'''''''''''''''''''''''''#&%'''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''%@&''''''''''''''''''''''''''''''''''''''#@@@@@%'''''''''''''''''''''''%%'''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''&&'''''''''''''''''''''''''''''''''''''''''&@@@@#'''''''''''''''''''''#%''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''#&@@%''''''''''''''''''''**'''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''%@&'''''''''''''''''''*'''''''''''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''##'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''#&'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''#''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''''%'''@@@'#@@@@@@'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//'''''''''''''''''''''''''''''#@@#'#@''&@''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//''''''''''''''''''''''''''''%@'%@@@''@%&@%''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
//''Finished 16/02'''''''''''&@'''@&''@@&'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
// 

#pragma once
#include "GamePlay.h"
#include "ControllableAvatar.h"
#include "PaintableGameObject.h"
#include "Projectile.h"


class Score
{
private:
	//Variables
	static const int numOfPlayers = 4;
	int groundScoreAccuracy;
	int xOnGrid;
	int yOnGrid;
	Colour* ground;
	float groundTeamScore[START_COLOUR+1];
	int captObjTeamScore[numOfPlayers];
	int teamScores[numOfPlayers];
	float teamScoresPercentage[numOfPlayers];
	PaintableGameObject* captObjects;			//Here we will store all the capturable game objects 
	int numOfCaptObjects = 0;
	static vector<Vector3> projPOS;
	static vector<float> projSize;
	static vector<Colour> projColour;


	//Functions
	void BuildScore();
	void BuildCaptObjectScore();
	void BuildGroundScore(); //Builds the array for the ground score


	
	void UpdateCapturableObjectScore(); //Updates the capturable objects
	void UpdateGroundScore(Avatar* player); //Updates the ground cells 
	void UpdateScoreForProjectiles();


	void ChangeGridScore(Colour teamToDecrease, Colour teamToIncrease); // updates the ground score
	

public:
	Score();
	Score(int dimensionX, int dimensionY);
	Score(int dimensionX, int dimensionY, int groundScoreAccuracy);
	void UpdateScores(); // Call To Update every available score
	
	static void UpdateProjectilesVector(Vector3 pos, Colour c, float size);
	
	// To Return Team Score
	inline int GetTeamScore(int id) { return teamScores[id]; }
	//To return Team Score Percentage
	inline float GetTeamScorePercentage(int id) { return teamScoresPercentage[id]; }
	
	void PrintScore(int x); // debug
	
	~Score();

};

